<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html ng-app="gobot"> <head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta content="width=device-width, initial-scale=1.0" name="viewport"> <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"> <meta name="description"> <meta name="author"> <title></title> <link href="/stylesheets/application.css" rel="stylesheet"> <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script> <script src="/javascripts/vendor/angular.min.js"></script> <script src="/javascripts/app.js"></script> <script type="text/javascript">


  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46433484-3', {"cookieDomain":"gobot.io"});
















   ga('send', 'pageview');


</script></head> <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,800%7CLato:400" rel="stylesheet"> <link href="/favicon.ico" rel="shortcut icon" type="image/gif">  <body> <div class="app"> <header class="app-header" id="top" role="banner"> <div class="container"> <div class="display"> <div class="app-logo"> <a href="/">Gobot</a> </div> </div> <nav class="menu"> <ul class="nav-list"> <li> <a href="/documentation" class="item">Docs</a> </li> <li> <a href="/documentation/platforms" class="item">Platforms</a> </li> <li> <a href="/resources" class="item">Resources</a> </li> <li> <a href="/news" class="item">News</a> </li> <li> <a href="/blog" class="item">Blog</a> </li> <li> <a class="item" target="blanck" href="https://github.com/hybridgroup/gobot/">Github</a> </li> </ul> </nav> </div> </header> <div class="info-intro"> <p>The Parrot Minidrones are very inexpensive drones that are controlled using Bluetooth LE aka Bluetooth 4.0.</p> <p>Models that are known to work with this package include:</p> <pre class="CodeRay">- Parrot Rolling Spider
- Parrot Airborne Cargo Mars
- Parrot Airborne Cargo Travis
- Parrot Mambo
</pre> <p>Models that should work now, but have not been tested by us:</p> <pre class="CodeRay">- Parrot Airborne Night Swat
- Parrot Airborne Night Maclane
- Parrot Airborne Night Blaze
- Parrot HYDROFOIL Orak
- Parrot HYDROFOIL NewZ
</pre> <p>Models that will require additional work for compatibility:</p> <pre class="CodeRay">- Parrot Swing
</pre> </div> <div class="clear"></div> <section class="how-to"> <h2 id="how-to-install">How to Install</h2> <pre class="CodeRay">go get -d -u gobot.io/x/gobot/...
</pre> <h2 id="how-to-use">How to Use</h2> <pre class="CodeRay"><span class="keyword">package</span> main

<span class="keyword">import</span> (
        <span class="string"><span class="delimiter">"</span><span class="content">fmt</span><span class="delimiter">"</span></span>
        <span class="string"><span class="delimiter">"</span><span class="content">os</span><span class="delimiter">"</span></span>
        <span class="string"><span class="delimiter">"</span><span class="content">time</span><span class="delimiter">"</span></span>

        <span class="string"><span class="delimiter">"</span><span class="content">gobot.io/x/gobot</span><span class="delimiter">"</span></span>
        <span class="string"><span class="delimiter">"</span><span class="content">gobot.io/x/gobot/platforms/ble</span><span class="delimiter">"</span></span>
        <span class="string"><span class="delimiter">"</span><span class="content">gobot.io/x/gobot/platforms/parrot/minidrone</span><span class="delimiter">"</span></span>
)

<span class="keyword">func</span> main() {
        bleAdaptor := ble.NewClientAdaptor(os.Args[<span class="integer">1</span>])
        drone := minidrone.NewDriver(bleAdaptor)

        work := <span class="keyword">func</span>() {
                drone.On(minidrone.Battery, <span class="keyword">func</span>(data <span class="keyword">interface</span>{}) {
                        fmt.Printf(<span class="string"><span class="delimiter">"</span><span class="content">battery: %d</span><span class="char">\n</span><span class="delimiter">"</span></span>, data)
                })

                drone.On(minidrone.FlightStatus, <span class="keyword">func</span>(data <span class="keyword">interface</span>{}) {
                        fmt.Printf(<span class="string"><span class="delimiter">"</span><span class="content">flight status: %d</span><span class="char">\n</span><span class="delimiter">"</span></span>, data)
                })

                drone.On(minidrone.Takeoff, <span class="keyword">func</span>(data <span class="keyword">interface</span>{}) {
                        fmt.Println(<span class="string"><span class="delimiter">"</span><span class="content">taking off...</span><span class="delimiter">"</span></span>)
                })

                drone.On(minidrone.Hovering, <span class="keyword">func</span>(data <span class="keyword">interface</span>{}) {
                        fmt.Println(<span class="string"><span class="delimiter">"</span><span class="content">hovering!</span><span class="delimiter">"</span></span>)
                        gobot.After(<span class="integer">5</span>*time.Second, <span class="keyword">func</span>() {
                                drone.Land()
                        })
                })

                drone.On(minidrone.Landing, <span class="keyword">func</span>(data <span class="keyword">interface</span>{}) {
                        fmt.Println(<span class="string"><span class="delimiter">"</span><span class="content">landing...</span><span class="delimiter">"</span></span>)
                })

                drone.On(minidrone.Landed, <span class="keyword">func</span>(data <span class="keyword">interface</span>{}) {
                        fmt.Println(<span class="string"><span class="delimiter">"</span><span class="content">landed.</span><span class="delimiter">"</span></span>)
                })

                time.Sleep(<span class="integer">1000</span> * time.Millisecond)
                drone.TakeOff()
        }

        robot := gobot.NewRobot(<span class="string"><span class="delimiter">"</span><span class="content">minidrone</span><span class="delimiter">"</span></span>,
                []gobot.Connection{bleAdaptor},
                []gobot.Device{drone},
                work,
        )

        robot.Start()
}
</pre> <h2 id="how-to-connect">How to Connect</h2> <p>The Parrot Minidrones are Bluetooth LE devices.</p> <p>You need to know the BLE ID or name of the Minidrone you want to connect to. The Gobot BLE client adaptor also lets you connect by friendly name, aka "RS_1234".</p> <h3 id="osx">OSX</h3> <p>If you connect by name, then you do not need to worry about the Bluetooth LE ID. However, if you want to connect by ID, OS X uses its own Bluetooth ID system which is different from the IDs used on Linux. The code calls thru the XPC interfaces provided by OSX, so as a result does not need to run under sudo.</p> <p>For example:</p> <pre class="CodeRay">go run examples/minidrone.go RS_1234
</pre> <h3 id="ubuntu">Ubuntu</h3> <p>On Linux the BLE code will need to run as a root user account. The easiest way to accomplish this is probably to use <code>go build</code> to build your program, and then to run the requesting executable using <code>sudo</code>.</p> <p>For example:</p> <pre class="CodeRay">go build examples/minidrone.go
sudo ./minidrone RS_1234
</pre> <h3 id="windows">Windows</h3> <p>Hopefully coming soon…</p> </section> </div> <footer class="app-footer"> <div class="grass-footer"></div> <div class="frameworks"> <div class="container"> <div class="column-footer"> <div class="img"> <img src="/images/elements/gobot-home.png"> </div> <p class="footer-description">Gobot provides a simple, yet powerful way to create solutions that incorporate multiple, different hardware devices at the same time.</p> </div> <div class="column-footer"> <div class="img"> <img src="/images/elements/artoo.png"> </div> <p class="footer-description">Want to use Ruby on robots? Check out our sister project Artoo</p> <div class="footer-button"> <a target="blank" href="http://artoo.io">View Project</a> </div> </div> <div class="column-footer"> <div class="img"> <img src="/images/elements/cylon.png"> </div> <p class="footer-description">Want to use Javascript to power your robots? Check out our sister project Cylon.js</p> <div class="footer-button"> <a target="blank" href="http://cylonjs.com">View Project</a> </div> </div> <div class="clear"></div> </div> </div> <div class="copyright"> <div class="container"> <div class="hybrid-group"> <span>© Copyright 2012-2017</span> <a href="http://hybridgroup.com" id="THG-logo" target="_blank"> <img alt="The Hybrid Group" src="/images/elements/THG_logo.png"> </a> </div> <div class="top-link"> <a href="#top"> <img alt="Top" src="/images/elements/triangle_up.svg"> <p>Top</p> </a> </div> <div class="clear"></div> </div> </div> </footer> </body> </html>
